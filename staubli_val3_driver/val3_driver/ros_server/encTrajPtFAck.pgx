<?xml version="1.0" encoding="utf-8" ?>
<Programs xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://www.staubli.com/robotics/VAL3/Program/2" >
  <Program name="encTrajPtFAck" access="public" >
    <Locals>
      <Local name="l_nRetVal" type="num" xsi:type="array" size="1" />
    </Locals>
    <Code><![CDATA[begin
  // encode prefix length
  l_nRetVal=toBinary(rosTrajPtFAck.prefix.nLength,1,"-4l",rosTrajPtFAck.prefix.nData)

  // encode header
  l_nRetVal=toBinary(rosTrajPtFAck.header.nMsgType,1,"-4l",rosTrajPtFAck.header.nData)
  l_nRetVal=toBinary(rosTrajPtFAck.header.nCommType,1,"-4l",rosTrajPtFAck.header.nData[4])
  l_nRetVal=toBinary(rosTrajPtFAck.header.nReplyCode,1,"-4l",rosTrajPtFAck.header.nData[8])

  // encodings below are commented out (apart from robotId and sequence) to save CPU time, since values are all zeros

  // encode body message (data)
  l_nRetVal=toBinary(rosTrajPtFAck.jointTrajPtFull.nRobotId,1,"-4l",rosTrajPtFAck.body.nData)
  l_nRetVal=toBinary(rosTrajPtFAck.jointTrajPtFull.nSeq,1,"-4l",rosTrajPtFAck.body.nData[4])
  //l_nRetVal = toBinary(rosTrajPtFAck.jointTrajPtFull.nValidFields, 1, "-4l", rosTrajPtFAck.body.nData[8])
  //l_nRetVal = toBinary(rosTrajPtFAck.jointTrajPtFull.nTime, 1, "4.0l", rosTrajPtFAck.body.nData[12])

  // encode 10 values representing positions[10]
  //l_nRetVal = toBinary(rosTrajPtFAck.jointTrajPtFull.nPositions, 10, "4.0l", rosTrajPtFAck.body.nData[16])
  // encode 10 values representing velocities[10]
  //l_nRetVal = toBinary(rosTrajPtFAck.jointTrajPtFull.nVelocities, 10, "4.0l", rosTrajPtFAck.body.nData[56])
  // encode 10 values representing accelerations[10]
  //l_nRetVal = toBinary(rosTrajPtFAck.jointTrajPtFull.nAccelerations, 10, "4.0l", rosTrajPtFAck.body.nData[96])
end]]></Code>
  </Program>
</Programs>